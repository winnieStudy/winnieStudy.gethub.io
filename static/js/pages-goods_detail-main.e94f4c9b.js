(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods_detail-main"],{"007c":function(t,o,i){"use strict";var e=i("4ea4");i("d3b7"),Object.defineProperty(o,"__esModule",{value:!0}),o.getGoodsDetail=s;var n=e(i("1136"));function s(t){return(0,n.default)({url:"/goods/detail",data:{goods_id:t}}).then((function(t){return 200===t.statusCode?t.data.message:Promise.reject(t.errMsg)}))}},1136:function(t,o,i){"use strict";i("d3b7"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=n;var e="https://api-hmugo-web.itheima.net/api/public/v1";function n(t){return new Promise((function(o,i){var n=0;n++,uni.showLoading({title:"加载中",mask:!0}),uni.request({url:e+t.url,method:t.methods||"GET",header:t.header||{},data:t.data||{},success:o,fail:i,complete:function(){n--,0===n&&uni.hideLoading()}})}))}},2413:function(t,o,i){var e=i("24fb");o=e(!1),o.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */body[data-v-51cd88c5]{margin-bottom:%?90?%}.goods_detail_swiper uni-swiper[data-v-51cd88c5]{height:60vw;text-align:center}.goods_detail_swiper uni-swiper uni-image[data-v-51cd88c5]{width:60%}.goods-price[data-v-51cd88c5]{color:#eb4450;padding:%?15?%;font-size:%?32?%;font-weight:600}.goods-name-row[data-v-51cd88c5]{display:flex;border-top:1px solid #dedede;border-bottom:1px solid #dedede;padding:%?10?% 0}.goods-name-row .goods-name[data-v-51cd88c5]{flex:5;color:#000;font-size:%?28?%;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;border-right:%?4?% solid #dedede;padding:0 %?10?%}.goods-name-row .goods-collect[data-v-51cd88c5]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#000;font-size:%?28?%}.goods-name-row .goods-collect .icon-shiwujiaoxing[data-v-51cd88c5]{color:orange}.goods-info .goods-info-name[data-v-51cd88c5]{color:#eb4450;font-size:%?30?%;font-weight:600;padding:%?20?%}.btm-tool[data-v-51cd88c5]{display:flex;background:#fff;position:fixed;left:0;bottom:0;width:100%;height:%?90?%;border-top:1px solid #ccc}.btm-tool .tool-item[data-v-51cd88c5]{flex:2;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:%?24?%;position:relative}.btm-tool .tool-item uni-button[data-v-51cd88c5]{position:absolute;left:0;top:0;opacity:0;width:100%;height:100%}.btm-tool .cart[data-v-51cd88c5]{flex:3;background:orange;font-size:%?30?%;color:#fff}.btm-tool .buy[data-v-51cd88c5]{flex:3;background:#eb4450;font-size:%?30?%;color:#fff}',""]),t.exports=o},4656:function(t,o,i){"use strict";var e;i.d(o,"b",(function(){return n})),i.d(o,"c",(function(){return s})),i.d(o,"a",(function(){return e}));var n=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",[i("v-uni-view",{staticClass:"goods_detail_swiper"},[i("v-uni-swiper",{attrs:{"indicator-dots":!0,autoplay:!0,circular:!0,interval:"3000","indicator-active-color":"#eb4450"}},t._l(t.goods_detail_info.pics,(function(o,e){return i("v-uni-swiper-item",{key:e},[i("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{mode:"widthFix",src:o.pics_sma_url},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.previewImg(o.pics_sma_url)}}})],1)})),1)],1),i("v-uni-view",{staticClass:"goods-price"},[t._v(t._s("￥"+t.goods_detail_info.goods_price))]),i("v-uni-view",{staticClass:"goods-name-row"},[i("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(t.goods_detail_info.goods_name))]),i("v-uni-view",{staticClass:"goods-collect",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.handleCollect.apply(void 0,arguments)}}},[i("v-uni-view",{class:[t.isCollect?"icon-shiwujiaoxing":"icon-kongxinwujiaoxing","iconfont"]}),i("v-uni-view",{staticClass:"collect_text"},[t._v("收藏")])],1)],1),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-view",{staticClass:"goods-info-name"},[t._v("图文详情")]),i("v-uni-view",{staticClass:"goods-info-content"},[i("v-uni-rich-text",{attrs:{nodes:t.goods_detail_info.goods_introduce}})],1)],1),i("v-uni-view",{staticClass:"btm-tool"},[i("v-uni-view",{staticClass:"tool-item"},[i("v-uni-view",{staticClass:"iconfont icon-erji"}),i("v-uni-view",[t._v("联系客服")]),i("v-uni-button",{attrs:{"open-type":"contact"}})],1),i("v-uni-view",{staticClass:"tool-item"},[i("v-uni-view",{staticClass:"iconfont icon-fenxiang_o"}),i("v-uni-view",[t._v("分享")]),i("v-uni-button",{attrs:{"open-type":"share"}})],1),i("v-uni-navigator",{staticClass:"tool-item",attrs:{url:"/pages/cart/cart","open-type":"switchTab"}},[i("v-uni-view",{staticClass:"iconfont icon-gouwuche"}),i("v-uni-view",[t._v("购物车")])],1),i("v-uni-view",{staticClass:"tool-item cart"},[i("v-uni-view",{on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.addCart.apply(void 0,arguments)}}},[t._v("加入购物车")])],1),i("v-uni-view",{staticClass:"tool-item buy"},[i("v-uni-view",[t._v("立即购买")])],1)],1)],1)},s=[]},"4a51":function(t,o,i){"use strict";i("c740"),i("d81d"),i("45fc"),i("a434"),i("07ac"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=i("007c"),n={data:function(){return{goods_id:"",goods_detail_info:{},goodsObj:{},pics:[],isCollect:!1}},onShow:function(){var t=getCurrentPages(),o=t[t.length-1].options;this.goods_id=Object.values(o)[0],console.log(this.goods_id),this.getGoodsDetail(this.goods_id)},methods:{handleCollect:function(){var t=this,o=uni.getStorageSync("collect")||[],i=o.findIndex((function(o){return o.goods_id===t.goodsObj.goods_id}));-1!==i?(o.splice(i,1),this.isCollect=!1,uni.showToast({title:"取消成功",mask:!0,icon:"success"})):(o.push(this.goodsObj),this.isCollect=!0,uni.showToast({title:"收藏成功",mask:!0,icon:"success"})),uni.setStorageSync("collect",o)},getGoodsDetail:function(t){var o=this;(0,e.getGoodsDetail)(this.goods_id).then((function(i){o.goods_detail_info=i,o.goodsObj=o.goods_detail_info;var e=uni.getStorageSync("collect")||[];o.isCollect=e.some((function(o){return o.goods_id==t})),console.log(o.isCollect),o.pics=i.pics}))},previewImg:function(t){var o=this.pics.map((function(t){return t.pics_mid}));uni.previewImage({current:t,urls:o,loop:!0})},addCart:function(){var t=this,o=uni.getStorageSync("cart")||[],i=o.findIndex((function(o,i){return o.goods_id===t.goods_detail_info.goods_id}));-1===i?(this.goods_detail_info.num=1,this.goods_detail_info.checked=!0,o.push(this.goods_detail_info)):o[i].num=o[i].num+1,uni.setStorageSync("cart",o),uni.showToast({title:"加入购物车成功",icon:"success",mask:!0})}}};o.default=n},"66e2":function(t,o,i){var e=i("2413");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("680d4db4",e,!0,{sourceMap:!1,shadowMode:!1})},"7d30":function(t,o,i){"use strict";i.r(o);var e=i("4656"),n=i("a032");for(var s in n)"default"!==s&&function(t){i.d(o,t,(function(){return n[t]}))}(s);i("f07b");var a,c=i("f0c5"),d=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"51cd88c5",null,!1,e["a"],a);o["default"]=d.exports},a032:function(t,o,i){"use strict";i.r(o);var e=i("4a51"),n=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(o,t,(function(){return e[t]}))}(s);o["default"]=n.a},f07b:function(t,o,i){"use strict";var e=i("66e2"),n=i.n(e);n.a}}]);